13장. 수치해석

* 이분법(bisection method)
	* 정의
		* 주어진 범위[lo, hi]내에서 어떤 함수 f(x)의 값이 0이 되는 지점을 수치적으로 찾아내는 기법
		* 꼭 단조함수가 아니고, 답이 여러개 있는 함수라도 연속이기만 하다면 이분법을 사용하여 근을 찾을 수 있음
			* 이분법의 진행과정에서 반드시 lo <= hi일 필요는 없고 f(x)가 0이 되도록 f(lo)는 0이하,f(hi)는 양수라는 반복문 불변식을 유지하여 f(lo)와 f(hi)사이에 f(x)=0인 지점이 반드시 있도록 함. 이러한 반복문 불변식을 유지하면 lo와 hi의 대소에 상관없이 f(x) 연속함수 이므로 f(lo)와 f(hi)사이에 f(x)=0인 지점이 존재하는게 보장됨
			
* 이분법에서의 종료 판정 
	* 절대 오차를 이용한 종료 판정
		* hi와 lo가 충분히 가까워질 경우 [lo, hi] 구간 내에서 임의의 답을 선택해서 반환
		* (정답과 x이하의 차이가 나는 답을 정답으로 인정한다고 하면) |lo-hi| <= 2\*x인 상황에서 반복문을 중단하고, 두 값의 평균을 반환하면 최대 오차는 (|lo-hi|)/2 <=x가 됨
			* 반복문 불변식을 강제하기 위하여 lo>hi가 될수도 있기때문에 lo-hi에 절대값을 취해야 함
	*상대 오차를 이용한 종료 판정
		* 절대 오차를 이용한 종료 판정의 한계
			* 다루는 값의 크기가 작을떄는 잘동작하짐나 값의 크기가 커지면 문제가 생길 수 있음
			* 부동 소수점은 가수부(mantissa)인 정수 부분과 소수점의 위치를 나타내는 지수부(exponent)의 조합으로 표현되기 때문에, 표현할 수 있는 수의 집합이 제한되어 있음 -> 숫자의 절대값이 커지면 커질수록 표현할 수 있는 수들이 듬성듬성해짐
				* ex) 허용되는 오차가 10^-7일 때 lo=123456123456.1234588623046875, hi=123456123456.1234741210937500일 때 lo와 hi는 2 \* 10^-5정도 차이나는 값이기 때문에 이분법은 금방 종료할 것이라고 판단되지만, 실제로 lo와 hi사이에는 double 함수가 표현할 수 있는 갑싱 하나도 없음 -> (lo+hi)/2는 hi와 같은 값이 되고 이분법은 절대 끝나지 않게 됨
		* 반환값의 오차가 x보다 크더라도 정답 A에 대해 [A\*(1-x), A\*(1+x)] 범위에 포함되는 답을 정답으로 인정
			* 현재의 근사값 (lo+hi)/2이 [lo, hi]범위 안의 어떤 정답에 대해서도 정답으로 인정되기 위해서는 (1-x)\*hi < (lo+hi) / 2 < (1+x)\*lo (단, lo와 hi는 양수) 를 만족해야 함
				* 두 수가 음수인 경우, lo나 hi 둘 중 하나가 음수인 경우 등을 모두 고려하면 코드는 더욱 복잡해지므로 lo와 hi 모두 양수라고 가정
		* 이 방법은 실제로는 사용하지 않음 (아래의 정해진 횟수만큼 반복하기 방법을 사용)
	* 정해진 횟수만큼 반복하기
		* while문을 for문으로 대체해서 반복문이 항상 정해진 횟수만큼 실행되도록 하는 것
		* 절대로 무한 반복에 빠지지 않으며, 프로그램의 최대 수행 시간을 예상하기도 쉬움
		* 반복문을 100번 수행하면 우리가 반환하는 답의 절대오차는 최대 (|lo-hi|)/2^101이 됨 -> 2^101은 대략 31자리의 수로 |hi-lo|가 10^20 미만의 수라면 오차는 반드시 10^-7보다 작음
			

	
* 예제
	1. 단변수 다항 방정식의 수치적 해법(ROOTS)
	2. 전세금 균등상환(LOAN)
	3. 승률 올리기(RATIO)
	4. 
	