## SUSHI

**Difficulty:** Medium

https://algospot.com/judge/problem/read/SUSHI

문제 풀이 내기에서 모인 벌금이 많이 쌓여서 알고스팟 운영진들은 회식을 하러 회전초밥집에 갔습니다. <br/>
회전초밥집에 들어선 운영진들은 초밥은 먹지 않고 전략 회의를 시작했습니다. <br/>
회전초밥집에는 n종류의 메뉴가 있는데, 운영진들은 각 메뉴에 대해 선호도를 매겼습니다. <br/>

초밥		계란		연어		장어		대뱃살	스테이크	후라이드 치킨 <br/>
가격		2500	3000	4000	5000	10000	15000 <br/>
선호도	7		9		10		12		20		1 <br/>
운영진들은 주어진 예산 안에서 선호도의 합을 최대한으로 하도록 초밥을 먹고 싶습니다. <br/>
각 종류의 초밥은 무한정으로 공급된다고 가정합시다. <br/>
이 때 얻을 수 있는 최대한의 선호도는 얼마일까요?

입력 <br/>
입력의 첫 줄에는 테스트 케이스의 수 c(1 <= c <= 50)가 주어집니다. 각 테스트 케이스의 첫 줄에는 초밥의 종류 n(1 <= n <= 20)과 운영진들의 예산 m (1 <= m <= 2,147,483,647)이 주어집니다. 그 후 n 줄에 각 초밥의 가격과 선호도가 순서대로 주어집니다. 가격은 20,000 이하의 자연수로, 항상 100 의 배수입니다. 선호도는 20 이하의 자연수입니다.

출력 <br/>
각 테스트 케이스별로 한 줄에 가능한 선호도의 최대 합을 출력합니다.

```
Input:
2
6 10000
2500 7
3000 9
4000 10
5000 12
10000 20
15000 1
6 543975612
2500 7
3000 9
4000 10
5000 12
10000 20
15000 1 

Output: 
28
1631925
```

**Note:**

**Show tag:** \#dynamic\_programming

**Related Problem:** dynamic_programming.packing

------------------------------------

**Solution** <br/>
시간복잡도 : O(budge*n) 공간복잡도 : O(201) <br/>
이 문제는 budge이 주어질 때 해당 budge으로 초밥을 사먹어서 얻을 수 있는 최대 선호도 이다. <br/>
문제의 솔루션은 각 budge을 1부터 시작하여 budge값까지 늘려가며 반복하여 각각의 budge마다 해당 budge으로 초밥을 사먹어서 얻을 수 있는 최대 선호도를 구한다. <br/>
점화식은 cache[budge] = MAX(price + cache[budge-price] 이다. <br/>

그런데 예산이 최대 2,147,483,647으로 이 크기의 cache를 잡기에는 너무 크다.(문제에서 주어진 메모리 제한은 64mb) <br/>
따라서 cache의 메모리를 줄이는 방법을 생각해보면 아래와 같다. <br/>
1. cache[budge] = price + cache[budge-price]인데, 스시가격의 최대값은 20,000이므로 cache[budge]를 구하기 위해서는 cache[budge-20000] 이전의 원소들은 호출할 필요가 없다. 따라서 슬라이딩 윈도우 기법으로 cache의 크기를 20001까지 줄일 수 있다.
2. 초밥의 가격은 100의 배수이기 때문에 초기 100원 이하는 의미가 없기 때문에 초기 budge과 스시 개당 가격들을 100으로 나눠서 사용해도 된다. 이렇게 하면 시간복잡도인 budge\*n의 값도 줄어들고(약20억), 공간복잡도인 cache의 크기도 20001에서 201로 줄일 수 있다.