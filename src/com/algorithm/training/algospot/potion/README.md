## POTION

**Difficulty:** Medium

https://algospot.com/judge/problem/read/POTION

마법의 약 수업 시간에 교수님의 설명을 안 듣고 졸던 헤리는 실수로 냄비에 몇 가지 재료의 양을 잘못 넣고 말았습니다. <br/>
약의 색깔이 심상치 않게 변하는 것을 눈치챈 해르미온느가 재빨리 레시피의 정확한 양을 알려주어서 약을 전부 망치는 것은 면했습니다. <br/>
지금 얼른 재료를 더 넣어서 약을 완성해야 합니다. <br/>

이번 시간에 만드는 마법의 약은 n 종류의 재료를 각 ri 숟가락씩 넣어서 만들어야 합니다. <br/>
모든 재료를 정확히 넣었을 경우 만들어진 마법의 약은 정확히 한 병 분량이 됩니다. <br/>
헤리가 이미 냄비에 넣은 각 재료들의 양은 pi 로 주어집니다. <br/>
헤리는 적절히 냄비에 재료를 최소한으로 더 넣어 각 재료의 비율을 정확히 맞추고 싶습니다. <br/>
이를 위해 한 병보다 많은 약을 만들어도 상관 없지만, 최소한 한 병은 만들어야 합니다. <br/>
헤리는 항상 숟가락 단위로만 재료를 넣을 수 있기 때문에, 반 숟가락의 재료를 더 넣는다거나 하는 일은 불가능합니다.

넣어야 할 각 재료의 최소량을 계산하는 프로그램을 작성하세요. <br/>

입력 <br/>
입력의 첫 줄에는 테스트 케이스의 수 c (c <= 50) 가 주어집니다. 각 테스트 케이스는 세 줄로 구성됩니다. 첫 줄에는 재료의 수 n (1 <= n <= 200) 이 주어지고, 다음 줄에는 n 개의 정수로 약에 들어가야 하는 각 재료의 양 ri (1 <= ri <= 1000), 그 다음 줄에는 n 개의 정수로 이미 냄비에 넣은 재료의 양 pi (0 <= pi <= 1000) 가 주어집니다.

출력 <br/>
각 테스트 케이스마다 한 줄에 n 개의 정수로 각 재료마다 더 넣어야 하는 양을 출력합니다.

```
Input:
3
4
4 6 2 4
6 4 2 4
4 
4 6 2 4
7 4 2 4
3
4 5 6 
1 2 3 

Output: 
0 5 1 2
1 8 2 4
3 3 3
```

**Note:**

**Show tag:** \#number\_theory

------------------------------------

**BestMain** <br/>
시간복잡도 : O(?) 공간복잡도 : O(n) (n=재료의개수) <br/>
시간복잡도는 분석하기 어렵지만 빠르다.(from알골즘해결전략) <br/>
비율이 맞을 때 까지 계속 더 넣어보는 직관적인 알고리즘 해결 방안이다. <br/>

우선 최소 한병의 약을 만들어야 하기 때문에 recie[i] > put[i] 일 경우는 recipe[i] = put[i]가 되도록 재료를 더 넣어주는 상태에서 시작한다. <br/>
그 후 재료들을 모두 순회하면서 put[i]/recipe[i]을 구한다. i번째 재료의 레시피와 이미넣은 양의 비율이 put[i]/recipe[i]=a일때 i+1번째의 재료의 비율이 더 커버리면 i번째 재료에도 재료를 더 넣어야 하는 것이기 때문에 목표 비율을 i+1재료의 비율로 변경하고 다시 0번째 재료부터 순회하는것을 반복한다. <br/>
이를 반복하다가 모든 재료를 추가적으로 넣지 않아도 될때 완료한다. <br/>

위의 설명을 직관적인 예시를 통해 설명하면 다음과 같다. <br/>
4개의 재료가 있고 레시피가 {4,6,2,4}, 이미 넣은 재료의 양이{7,4,2,4}라고 가정한다. <br/>
1. 첫번째 재료는 4숟가락을 넣어야하는데 7숟가락을 넣었으므로 다른 재료들도 7/4배를 넣어야한다.
2. 두번째 재료는 6*(7/4) = 10.5숟가락을 넣어야하는데 숟가락의 단위는 1숟가락 이므로 11숟가락을 넣어야한다. 따라서 다른 재료들도 11/6배를 넣어야한다. 비율이 변경되었으므로 다시 첫번째 재료로 돌아간다.
3. 첫번째 재료는 4*11/6 = 7.333333 숟가락을 넣어야하므로 숟가락 단위에 의해서 8숟가락을 넣어야한다. 따라서 다른 재료들도 8/4배를 넣어야한다. 비율이 변경되었으므로 다시 첫번째 재료로 돌아간다.
4. 2번째재료, 3번째재료, 4번째재료 모두 2배를 더 넣을 수 있으므로 더이상 추가적으로 넣지 않아도되므로 종료한다.

**BestMain : Using GCD** <br/>
시간복잡도 : O(n) 공간복잡도 : O(1) <br/>
레시피대로 약을 만들기 위해서 필요한 각 재료의 최소량의 비율을 O(n)만에 구하여 Main 솔루션에서 재료를 추가적으로 계속해서 넣으면서 반복했던것과 대조적으로 한번에 각 재료마다 필요한 추가 재료량을 구한다. <br/>
구하고자 하는 재료의 최소량의 비율을 a/b(a랑b는서로소)라고 하면 각 재료들을 a/b*recipe[i] 숟가락만큼 들어가게 된다. <br/>

숟가락은 1단위이기 때문에 recipe[i]/b가 정수여야 하기 때문에 b는 recipe[i]의 약수여야한다. <br/>
모든 재료에 대해 recipe[i]/b가 정수가 되게하려면 b는 재료들의 recipe양의 공약수가 되어야 하며, 최소 비율을 구하는 것이 목적이므로 a/b가 최소가 되려면 b는 커져야 하므로 b를 최대공약수로 놓으면 된다. <br/>

각각의 재료들에 대해 <br/>
X = max(put[i]/recipe[i])라고 하면, <br/>
우리가 찾고자하는 a/b는 X보다 크거나 같은 수 중에 가장 작은 수 이다. <br/>
X = a/b라고 하면 a = put[i]/recipe[i]*b 인데, <br/>
이를 올림을 하면 X보다 크거나 같은 수 중에 가장 작은 a/b의 a를 구할 수 있다. <br/>
따라서 a/b = Math.ceil(put[i]/recipe[i]*b) / b를 해주면 된다. <br/>

위의 과정을 이용해서 재료의 최소량의 recipe와의 비율인 a/b를 O(n)만에 계산 가능하므로, <br/>
그 이후에는 각 재료들이 추가적으로 필요한 재료량만 recipe[i]*a/b - put[i]로 계산하면 된다.