## SNAIL

**Difficulty:** Easy

https://algospot.com/judge/problem/read/SNAIL

깊이가 n 미터인 우물의 맨 밑바닥에 달팽이가 있습니다. <br/>
이 달팽이는 우물의 맨 위까지 기어올라가고 싶어하는데, 달팽이의 움직임은 그 날의 날씨에 좌우됩니다. <br/>
만약 비가 내리면 달팽이는 하루에 2미터를 기어올라갈 수 있지만, 날이 맑으면 1미터밖에 올라가지 못합니다. <br/>

여름 장마가 찾아와, 앞으로 m 일간 각 날짜에 비가 올 확률이 정확히 75%일 전망입니다. <br/>
m 일 안에 달팽이가 우물 끝까지 올라갈 확률을 계산하는 프로그램을 작성하세요. <br/>

입력 <br/>
입력의 첫 줄에는 테스트 케이스의 수 C(1≤C≤50) 가 주어집니다. 그 후 각 줄에 우물의 깊이 n(1≤n≤1000)과 장마 기간의 길이 m(1≤m≤1000) 이 주어집니다.

출력 <br/>
각 테스트 케이스마다 한 줄에 m일 안에 달팽이가 우물을 탈출할 수 있을 확률을 출력합니다. 10^−7 이하의 상대/절대 오차가 있는 답은 정답으로 인정됩니다.

```
Input:
4
5 4
5 3
4 2
3 2

Output: 
0.9960937500
0.8437500000
0.5625000000
0.9375000000
```

**Note:**

**Show tag:** \#dynamic\_programming

------------------------------------

**Solution** <br/>
시간복잡도 : O(2^m) 공간복잡도 O(m^2) (m=장마기간) <br/>
_(확실하게 해당 시간복잡도, 공간복잡도가 맞는지 모르겠음)_<br/>
getEscapeProbaility(int currentDepth, int remainDuration)의 경우에는 현재 달팽이가 currentDepth에 있고 남은 장마기간이 remainDuration일 때 우물밖에 나올 수 있는 확률을 반환하는 함수로 정의된다. <br/>
remainDuration이 0이될 경우 더이상 달팽이는 우물을 오를 수 없으므로 지금까지의 currentDepth가 우물의 높이를 초과했는지 초과하지 않았는지를 확인한 후, 우물을 벗어났다면 1을 벗어나지 못했다면 0을 return한다. <br/>
또한 비가 올 확률은 0.75 비가 오지 않을 확률은 0.25이므로 getEscapeProbaility함수의 결과값에 해당 확률의 값을 곱해주어서 모든 경우의수를 더해주면 된다. <br/>

참고) 메모리제이션의 적용 <br/>
처음에는 getEscapeProbaility함수를 currentDepth가 아닌 남아있는 깊이로 remainDpeth를 이용했었는데, <br/>
이렇게되면 해당 값이 음수로 내려가므로 메모리제이션을 적용하기가 어렵다. <br/>
그래서 currentDepth로 변경하여 리펙토링하여 메모리제이션을 하였다.
